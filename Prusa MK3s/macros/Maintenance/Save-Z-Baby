; 0:/macros/Save-Z
; This macro subtracts the current babystep offset to the Z trigger height and lets the user
; know what to change the G31 command in 0:/sys/config.g to. If you are using multiple filament settings,
; and this is for a specific filament type, recommend placing this yielded information in the filament's config.g.
	 
if move.axes[2].babystep !=0                                 ; If no babysteps are currently adjusted - exit routine
   echo {"OLD: " ^ sensors.probes[0].triggerHeight ^ " NEW: " ^ sensors.probes[0].triggerHeight - move.axes[2].babystep}
   echo {"Edit the G31 command in your config.g to the new Z offset as: G31 Z" ^ sensors.probes[0].triggerHeight - move.axes[2].babystep}
   echo "After editing config.g, remember to reset machine to load new settings."
 
else
   echo "Baby stepping is not currently active, nothing to do."